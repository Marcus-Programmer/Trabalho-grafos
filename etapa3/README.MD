
# Trabalho PrÃ¡tico â€“ Algoritmos em Grafos (GCC218/GCC262)

**Membros**  
- Marcus MendonÃ§a  
- Gustavo Muniz  

---

## ğŸ§  DescriÃ§Ã£o

Este projeto implementa uma soluÃ§Ã£o heurÃ­stica para o **Problema de Roteamento de Arcos com Capacidade** (_Capacitated Arc Routing Problem - CARP_).  
O objetivo Ã© determinar um conjunto de rotas de **custo mÃ­nimo** para uma frota de veÃ­culos, partindo de um depÃ³sito central, para atender a uma sÃ©rie de **serviÃ§os obrigatÃ³rios** (em nÃ³s, arestas ou arcos) em uma rede, respeitando a **capacidade de cada veÃ­culo**.

A soluÃ§Ã£o Ã© desenvolvida em **C++**, utilizando uma abordagem de **meta-heurÃ­stica** composta por:

- Uma fase **construtiva**
- Uma fase de **melhoria com busca local (VNS)**

---

## ğŸ“ Estrutura de Arquivos

O projeto estÃ¡ modularizado para promover **desacoplamento** e **clareza**:

- `main.cpp`: Ponto de entrada do programa. ResponsÃ¡vel pela leitura das instÃ¢ncias, execuÃ§Ã£o do solver e salvamento das soluÃ§Ãµes.
- `Solution.hpp`: Define estruturas de dados como `Service`, `Route`, `Solution`.
- `Graph.hpp`: Implementa a estrutura de grafo e o algoritmo de Floyd-Warshall.
- `Solver.hpp`: ContÃ©m as heurÃ­sticas e algoritmos de busca local.
- `makefile`: Facilita a compilaÃ§Ã£o do projeto.
- `entradas/`: Arquivos de instÃ¢ncia.
- `solucoes/`: SoluÃ§Ãµes geradas.

---

## ğŸ› ï¸ Metodologia Implementada

### âœ… Etapa 2: ConstruÃ§Ã£o da SoluÃ§Ã£o Inicial

Foi implementada uma **HeurÃ­stica Construtiva Simples** para criar uma soluÃ§Ã£o viÃ¡vel inicial:

- **LÃ³gica**: Para cada serviÃ§o obrigatÃ³rio, cria-se uma rota:

  ```
  DepÃ³sito â†’ ServiÃ§o â†’ DepÃ³sito
  ```

- **Objetivo**: Criar um ponto de partida vÃ¡lido para otimizaÃ§Ã£o, ainda que com custo alto.

---

### ğŸ”„ Etapa 3: OtimizaÃ§Ã£o com Busca Local (VNS)

AplicaÃ§Ã£o de **Busca Local com VizinhanÃ§a VariÃ¡vel (VNS)** para reduzir o custo:

- **Relocate (Mover)**: Move um serviÃ§o de uma rota para outra.
- **Swap (Trocar)**: Troca serviÃ§os entre duas rotas.
- **2-opt (OtimizaÃ§Ã£o Intra-Rota)**: Inverte uma subsequÃªncia de serviÃ§os dentro de uma mesma rota.

> Os movimentos sÃ£o aplicados iterativamente atÃ© nÃ£o haver mais melhorias â€” atingindo um **Ã³timo local**.

---

## âš™ï¸ Como Compilar e Executar

### ğŸ”§ PrÃ©-requisitos

- Compilador C++ (g++)

### ğŸ§± CompilaÃ§Ã£o

No terminal, execute:

```bash
make
```

Isso gera o executÃ¡vel `solver`.

---

### ğŸš€ ExecuÃ§Ã£o

#### ğŸ”¹ Modo 1 â€“ Rodar uma instÃ¢ncia especÃ­fica:

```bash
./solver
```

- Escolha a opÃ§Ã£o `1`
- Digite o nome do arquivo (ex: `BHW1.txt`)

#### ğŸ”¸ Modo 2 â€“ Rodar todas as instÃ¢ncias da pasta:

```bash
./solver
```

- Escolha a opÃ§Ã£o `2`
- O programa processarÃ¡ todos os arquivos `.dat` e `.txt` na pasta `entradas/`

---

## ğŸ“ SaÃ­das Geradas

- **SoluÃ§Ãµes**: Salvas como `sol-<nome_da_instancia>.dat` em `solucoes/`, no formato especificado pelo enunciado.
- **Logs**: O programa imprime no terminal informaÃ§Ãµes sobre:
  - Leitura dos arquivos
  - InÃ­cio e tÃ©rmino da otimizaÃ§Ã£o
  - Custo final da soluÃ§Ã£o

---

## âœ… Status

- [x] Fase Construtiva
- [x] Busca Local com VNS
- [x] Suporte a mÃºltiplas instÃ¢ncias
- [x] GeraÃ§Ã£o de arquivos de soluÃ§Ã£o formatados
- [x] ModularizaÃ§Ã£o completa do cÃ³digo

---

## ğŸ“Œ ObservaÃ§Ã£o

Este projeto foi desenvolvido como parte da disciplina de **Algoritmos em Grafos (GCC218/GCC262)**, e tem finalidade **educacional**.

---
